

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>bio_rtd.uo.surge_tank &mdash; bio_rtd  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="bio_rtd.uo.special_uo" href="uo.special_uo.html" />
    <link rel="prev" title="bio_rtd.uo.sc_uo" href="uo.sc_uo.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> bio_rtd
          

          
          </a>

          
            
            
              <div class="version">
                0.7.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="inlet.html">inlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="uo.fc_uo.html">fc_uo</a></li>
<li class="toctree-l2"><a class="reference internal" href="uo.sc_uo.html">sc_uo</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">surge_tank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cstr">CSTR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#twoalternatingcstrs">TwoAlternatingCSTRs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="uo.special_uo.html">special_uo</a></li>
<li class="toctree-l2"><a class="reference internal" href="pdf.html">pdf</a></li>
<li class="toctree-l2"><a class="reference internal" href="logger.html">logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="chromatography.bt_load.html">bt_load</a></li>
<li class="toctree-l2"><a class="reference internal" href="chromatography.bt_curve.html">bt_curve</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.convolution.html">convolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.vectors.html">vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="adj_par.html">adj_par</a></li>
<li class="toctree-l2"><a class="reference internal" href="peak_fitting.html">peak_fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="peak_shapes.html">peak_shapes</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html">core</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">bio_rtd</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api_reference.html">API Reference</a> &raquo;</li>
        
      <li>bio_rtd.uo.surge_tank</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-bio_rtd.uo.surge_tank">
<span id="bio-rtd-uo-surge-tank"></span><h1>bio_rtd.uo.surge_tank<a class="headerlink" href="#module-bio_rtd.uo.surge_tank" title="Permalink to this headline">¶</a></h1>
<p>Surge tanks.</p>
<p>Unit operations that accept various flow rate profiles and provide
constant or box-shaped profile.</p>
<div class="section" id="cstr">
<h2>CSTR<a class="headerlink" href="#cstr" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bio_rtd.uo.surge_tank.CSTR">
<em class="property">class </em><code class="sig-prename descclassname">bio_rtd.uo.surge_tank.</code><code class="sig-name descname">CSTR</code><span class="sig-paren">(</span><em class="sig-param">t</em>, <em class="sig-param">uo_id</em>, <em class="sig-param">gui_title='CSTR'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bio_rtd/uo/surge_tank.html#CSTR"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#bio_rtd.core.UnitOperation" title="bio_rtd.core.UnitOperation"><code class="xref py py-class docutils literal notranslate"><span class="pre">bio_rtd.core.UnitOperation</span></code></a></p>
<p>Simulation of CSTR with ideal mixing.</p>
<p>Accepts constant, box-shaped or box-shaped periodic flow rate
profiles.</p>
<p>Provides constant or box-shaped flow rate profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>) – Simulation time vector.
Starts with 0 and has a constant time step.</p></li>
<li><p><strong>uo_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Unique identifier.</p></li>
<li><p><strong>gui_title</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Readable title for GUI. Default = “CSTR”.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Target upper fill volume can be defined via:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.CSTR.v_void" title="bio_rtd.uo.surge_tank.CSTR.v_void"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_void</span></code></a></p></li>
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.CSTR.rt_target" title="bio_rtd.uo.surge_tank.CSTR.rt_target"><code class="xref py py-attr docutils literal notranslate"><span class="pre">rt_target</span></code></a></p></li>
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.CSTR.v_min" title="bio_rtd.uo.surge_tank.CSTR.v_min"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_min</span></code></a></p></li>
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.CSTR.v_min_ratio" title="bio_rtd.uo.surge_tank.CSTR.v_min_ratio"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_min_ratio</span></code></a></p></li>
</ul>
<p>Initial fill volume can be defined via:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.CSTR.v_init" title="bio_rtd.uo.surge_tank.CSTR.v_init"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_init</span></code></a></p></li>
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.CSTR.v_init_ratio" title="bio_rtd.uo.surge_tank.CSTR.v_init_ratio"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_init_ratio</span></code></a></p></li>
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.CSTR.starts_empty" title="bio_rtd.uo.surge_tank.CSTR.starts_empty"><code class="xref py py-attr docutils literal notranslate"><span class="pre">starts_empty</span></code></a> -&gt; If <cite>True</cite> it overrides <a class="reference internal" href="#bio_rtd.uo.surge_tank.CSTR.v_init" title="bio_rtd.uo.surge_tank.CSTR.v_init"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_init</span></code></a> and
<a class="reference internal" href="#bio_rtd.uo.surge_tank.CSTR.v_init_ratio" title="bio_rtd.uo.surge_tank.CSTR.v_init_ratio"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_init_ratio</span></code></a></p></li>
</ul>
<p>The concentration of pre-filled part is defined by <a class="reference internal" href="#bio_rtd.uo.surge_tank.CSTR.c_init" title="bio_rtd.uo.surge_tank.CSTR.c_init"><code class="xref py py-attr docutils literal notranslate"><span class="pre">c_init</span></code></a>.
Empty array (default) means that all components are 0.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1001</span><span class="p">)</span>  <span class="c1"># min</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cstr</span> <span class="o">=</span> <span class="n">CSTR</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">uo_id</span><span class="o">=</span><span class="s2">&quot;sample_cstr&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Size of the surge tank.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cstr</span><span class="o">.</span><span class="n">v_void</span> <span class="o">=</span> <span class="mi">140</span>  <span class="c1"># mL</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cstr</span><span class="o">.</span><span class="n">starts_empty</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># optional</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_in</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_in</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">800</span><span class="p">]</span> <span class="o">=</span> <span class="mf">12.5</span>  <span class="c1"># mL/min</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c_in</span> <span class="o">=</span> <span class="n">_np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">size</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c_in</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">800</span><span class="p">]</span> <span class="o">=</span> <span class="mf">2.5</span>  <span class="c1"># mg/mL</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_out</span><span class="p">,</span> <span class="n">c_out</span> <span class="o">=</span> <span class="n">cstr</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">f_in</span><span class="p">,</span> <span class="n">c_in</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_out</span>
<span class="go">array([0., 0., 0., ..., 0., 0., 0.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_out</span><span class="p">[</span><span class="mi">105</span><span class="p">:</span><span class="mi">115</span><span class="p">]</span>
<span class="go">array([ 0. ,  0. ,  0. ,  0. ,  0. ,  0. , 12.5, 12.5, 12.5, 12.5])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c_out</span>
<span class="go">array([[0., 0., 0., ..., 0., 0., 0.]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c_out</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">105</span><span class="p">:</span><span class="mi">115</span><span class="p">]</span>
<span class="go">array([0. , 0. , 0. , 0. , 0. , 0. , 2.5, 2.5, 2.5, 2.5])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Pre-filled with buffer (and no product).</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cstr</span><span class="o">.</span><span class="n">starts_empty</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cstr</span><span class="o">.</span><span class="n">v_init_ratio</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># starts completely pre-filled (default)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_out</span><span class="p">,</span> <span class="n">c_out</span> <span class="o">=</span> <span class="n">cstr</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">f_in</span><span class="p">,</span> <span class="n">c_in</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f_out</span>
<span class="go">array([12.5, 12.5, 12.5, ...,  0. ,  0. ,  0. ])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c_out</span>
<span class="go">array([[0.02232143, 0.04444445, 0.06637082, ..., 0.42450783, 0.42073445,</span>
<span class="go">        0.41699166]])</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.CSTR.v_void">
<code class="sig-name descname">v_void</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.v_void" title="Permalink to this definition">¶</a></dt>
<dd><p>Target upper fluid volume (max fill level) in the CSTR.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.CSTR.rt_target">
<code class="sig-name descname">rt_target</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.rt_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Target mean residence time in the CSTR.</p>
<p>Max fill level = <cite>rt_target</cite> * outlet flow rate.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.CSTR.v_min">
<code class="sig-name descname">v_min</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.v_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Target lowest fill level in the CSTR.</p>
<p>Only valid for periodic inlet flow rate profile.</p>
<p>Upper fill level is calculated at runtime.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.CSTR.v_min_ratio">
<code class="sig-name descname">v_min_ratio</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.v_min_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Ratio between max and min fill levels in the CSTR.</p>
<p>Only valid for periodic inlet flow rate profile.</p>
<p>Absolute fill levels are calculated at runtime.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.CSTR.v_init">
<code class="sig-name descname">v_init</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.v_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial pre-fill level - absolute value.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.CSTR.v_init_ratio">
<code class="sig-name descname">v_init_ratio</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.v_init_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Initial pre-fill level as a share of max fill level.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.CSTR.starts_empty">
<code class="sig-name descname">starts_empty</code><em class="property">: bool</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.starts_empty" title="Permalink to this definition">¶</a></dt>
<dd><p>CSTR has a 0 initial fill level.</p>
<p>If <cite>True</cite> it overrides <cite>v_init</cite> and <cite>v_init_ratio</cite>.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.CSTR.c_init">
<code class="sig-name descname">c_init</code><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.c_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-fill buffer composition. Default = array([]) = all 0</p>
</dd></dl>

<dl class="method">
<dt id="bio_rtd.uo.surge_tank.CSTR.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="sig-param">f_in</em>, <em class="sig-param">c_in</em><span class="sig-paren">)</span><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the propagation throughout the unit operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c_in</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>) – Inlet concentration profile with shape
(n_species, n_time_steps).</p></li>
<li><p><strong>f_in</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">array</span></code>) – Inlet flow rate profile with shape (n_time_steps,).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>f_out</em> – Outlet flow rate profile.</p></li>
<li><p><em>c_out</em> – Outlet concentration profile.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bio_rtd.uo.surge_tank.CSTR.get_result">
<code class="sig-name descname">get_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.get_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns existing flow rate and concentration profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>f_out</em> – Outlet flow rate profile.</p></li>
<li><p><em>c_out</em> – Outlet concentration profile.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bio_rtd.uo.surge_tank.CSTR.log">
<em class="property">property </em><code class="sig-name descname">log</code><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Reference of the <cite>RtdLogger</cite> instance.</p>
<p>Setter also plants instance data tree into passed logger.</p>
<p>If logger is requested, but not yet set, then a
<a class="reference internal" href="logger.html#bio_rtd.logger.DefaultLogger" title="bio_rtd.logger.DefaultLogger"><code class="xref py py-class docutils literal notranslate"><span class="pre">bio_rtd.logger.DefaultLogger</span></code></a> is instantiated.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="logger.html#bio_rtd.logger.RtdLogger" title="bio_rtd.logger.RtdLogger"><code class="xref py py-class docutils literal notranslate"><span class="pre">RtdLogger</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bio_rtd.uo.surge_tank.CSTR.set_logger_from_parent">
<code class="sig-name descname">set_logger_from_parent</code><span class="sig-paren">(</span><em class="sig-param">parent_id</em>, <em class="sig-param">logger</em><span class="sig-paren">)</span><a class="headerlink" href="#bio_rtd.uo.surge_tank.CSTR.set_logger_from_parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherit logger from parent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Unique identifier of parent instance.</p></li>
<li><p><strong>logger</strong> (<a class="reference internal" href="logger.html#bio_rtd.logger.RtdLogger" title="bio_rtd.logger.RtdLogger"><code class="xref py py-class docutils literal notranslate"><span class="pre">RtdLogger</span></code></a>) – Logger from parent instance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="twoalternatingcstrs">
<h2>TwoAlternatingCSTRs<a class="headerlink" href="#twoalternatingcstrs" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs">
<em class="property">class </em><code class="sig-prename descclassname">bio_rtd.uo.surge_tank.</code><code class="sig-name descname">TwoAlternatingCSTRs</code><span class="sig-paren">(</span><em class="sig-param">t</em>, <em class="sig-param">uo_id</em>, <em class="sig-param">gui_title='TwoAlternatingCSTRs'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bio_rtd/uo/surge_tank.html#TwoAlternatingCSTRs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#bio_rtd.core.UnitOperation" title="bio_rtd.core.UnitOperation"><code class="xref py py-class docutils literal notranslate"><span class="pre">bio_rtd.core.UnitOperation</span></code></a></p>
<p>Simulation of Two alternating CSTRs with ideal mixing.</p>
<p>Accepts constant, box-shaped or periodic box-shaped flow rate
profiles.</p>
<p>Provides constant or box-shaped flow rate profile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>) – Simulation time vector.
Starts with 0 and has a constant time step.</p></li>
<li><p><strong>uo_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Unique identifier.</p></li>
<li><p><strong>gui_title</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Readable title for GUI. Default = “TwoAlternatingCSTRs”.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Define how many periods a CSTR collects in one cycle
(applies to periodic inlet only):</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.collect_n_periods" title="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.collect_n_periods"><code class="xref py py-attr docutils literal notranslate"><span class="pre">collect_n_periods</span></code></a> - default = 1</p></li>
</ul>
<p>Define when the switch occurs for periodic inlet:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.relative_role_switch_time" title="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.relative_role_switch_time"><code class="xref py py-attr docutils literal notranslate"><span class="pre">relative_role_switch_time</span></code></a> - default = 0.9</p></li>
</ul>
<p>Define when the switch occurs for constant inlet
(one should be defined):</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.t_cycle" title="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.t_cycle"><code class="xref py py-attr docutils literal notranslate"><span class="pre">t_cycle</span></code></a></p></li>
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_cycle" title="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_cycle"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_cycle</span></code></a></p></li>
</ul>
<p>Define leftover volume after discharge (optional, max one):</p>
<ul class="simple">
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover" title="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_leftover</span></code></a></p></li>
<li><p><a class="reference internal" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover_rel" title="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover_rel"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_leftover_rel</span></code></a></p></li>
</ul>
<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.collect_n_periods">
<code class="sig-name descname">collect_n_periods</code><em class="property">: int</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.collect_n_periods" title="Permalink to this definition">¶</a></dt>
<dd><p>How many periods of a periodic inlet a surge tank collects.</p>
<p>Default = 1.</p>
<p>Only relevant for periodic inlet flow rate profile.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.relative_role_switch_time">
<code class="sig-name descname">relative_role_switch_time</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.relative_role_switch_time" title="Permalink to this definition">¶</a></dt>
<dd><p>When CSTRs switch roles within the inlet flow rate off time.</p>
<p>Default = 0.9.</p>
<p>This is valid for the first cycle. In case of leftover material,
the first two cycles are shorter, thus the switch occurs earlier
in following cycles.</p>
<p>In case of inlet periodic box-shaped flow rate profile,
the CSTRs can their switch role (providing or collecting)
at any time when the inlet flow rate if off.</p>
<p>In terms of RTD it is desirable to start releasing material as
soon as collection phase ends. However additional safety margin
might be applied in order to allow some cycle-to-cycle
variability in a real process.</p>
</dd></dl>

<dl class="method">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.evaluate">
<code class="sig-name descname">evaluate</code><span class="sig-paren">(</span><em class="sig-param">f_in</em>, <em class="sig-param">c_in</em><span class="sig-paren">)</span><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.evaluate" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the propagation throughout the unit operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c_in</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>) – Inlet concentration profile with shape
(n_species, n_time_steps).</p></li>
<li><p><strong>f_in</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">array</span></code>) – Inlet flow rate profile with shape (n_time_steps,).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>f_out</em> – Outlet flow rate profile.</p></li>
<li><p><em>c_out</em> – Outlet concentration profile.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.get_result">
<code class="sig-name descname">get_result</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.get_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns existing flow rate and concentration profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>f_out</em> – Outlet flow rate profile.</p></li>
<li><p><em>c_out</em> – Outlet concentration profile.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.log">
<em class="property">property </em><code class="sig-name descname">log</code><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Reference of the <cite>RtdLogger</cite> instance.</p>
<p>Setter also plants instance data tree into passed logger.</p>
<p>If logger is requested, but not yet set, then a
<a class="reference internal" href="logger.html#bio_rtd.logger.DefaultLogger" title="bio_rtd.logger.DefaultLogger"><code class="xref py py-class docutils literal notranslate"><span class="pre">bio_rtd.logger.DefaultLogger</span></code></a> is instantiated.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="logger.html#bio_rtd.logger.RtdLogger" title="bio_rtd.logger.RtdLogger"><code class="xref py py-class docutils literal notranslate"><span class="pre">RtdLogger</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.set_logger_from_parent">
<code class="sig-name descname">set_logger_from_parent</code><span class="sig-paren">(</span><em class="sig-param">parent_id</em>, <em class="sig-param">logger</em><span class="sig-paren">)</span><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.set_logger_from_parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherit logger from parent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent_id</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Unique identifier of parent instance.</p></li>
<li><p><strong>logger</strong> (<a class="reference internal" href="logger.html#bio_rtd.logger.RtdLogger" title="bio_rtd.logger.RtdLogger"><code class="xref py py-class docutils literal notranslate"><span class="pre">RtdLogger</span></code></a>) – Logger from parent instance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.t_cycle">
<code class="sig-name descname">t_cycle</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.t_cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>The duration (time) of cycle after which CSTRs switch roles.</p>
<p>In case of constant inlet profile, one of <cite>t_cycle</cite> and
<a class="reference internal" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_cycle" title="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_cycle"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_cycle</span></code></a> needs to be defined.</p>
<p>In case of periodic inlet flow rate,
this value should not be defined.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_cycle">
<code class="sig-name descname">v_cycle</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>Collected volume after which CSTRs switch roles.</p>
<p>In case of constant inlet profile, one of <cite>v_cycle</cite> and
<a class="reference internal" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.t_cycle" title="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.t_cycle"><code class="xref py py-attr docutils literal notranslate"><span class="pre">t_cycle</span></code></a> needs to be defined.</p>
<p>In case of periodic inlet flow rate,
this value should not be defined.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover">
<code class="sig-name descname">v_leftover</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover" title="Permalink to this definition">¶</a></dt>
<dd><p>What amount of fluid stays in CSTR after discharge.</p>
<p>Only one of <cite>v_leftover</cite> and
<a class="reference internal" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover_rel" title="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover_rel"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_leftover_rel</span></code></a> should be defined.
If none are defined, then the leftover is set to 0.</p>
</dd></dl>

<dl class="attribute">
<dt id="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover_rel">
<code class="sig-name descname">v_leftover_rel</code><em class="property">: float</em><a class="headerlink" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover_rel" title="Permalink to this definition">¶</a></dt>
<dd><p>Relative amount of fluid that stays in CSTR after discharge.</p>
<p>Relative to the amount of collected material in one cycle.</p>
<p>Only one of <cite>v_leftover_rel</cite> and
<a class="reference internal" href="#bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover" title="bio_rtd.uo.surge_tank.TwoAlternatingCSTRs.v_leftover"><code class="xref py py-attr docutils literal notranslate"><span class="pre">v_leftover</span></code></a> should be defined.
If none are defined, then the leftover is set to 0.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="uo.special_uo.html" class="btn btn-neutral float-right" title="bio_rtd.uo.special_uo" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="uo.sc_uo.html" class="btn btn-neutral float-left" title="bio_rtd.uo.sc_uo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, University of Natural Resources and Life Sciences (BOKU), Vienna

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>